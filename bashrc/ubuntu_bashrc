alias i="sudo apt install"

update-appimages() {
	local updates=$(flatpak run it.mijorus.gearlever --list-updates)
	if ! echo "$updates" | grep -q "No updates available"; then
		echo "$updates" | awk '{print $1, $NF}' | while read -r app_name app_path; do
		    if [ -n "$app_path" ]; then
		        echo "Updating ${app_name}â€¦"
		        fuser -k "$app_path" >/dev/null 2>&1
		        flatpak run it.mijorus.gearlever --update "$app_path" -y
		    fi
		done
	else
		echo "No AppImage updates found."
	fi
}

declare -A packageManagers=( ["apt"]="sudo apt update && sudo apt upgrade -y" ["Snap"]="sudo snap refresh" ["Flatpak"]="flatpak update -y" ["Bun"]="bun upgrade && bun update -g --latest" ["AppImage"]="update-appimages")
